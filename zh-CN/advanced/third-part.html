<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>第三方支持 | hexo-theme-stun</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/hexo-theme-stun/icons/favicon-32x32.png">
    <meta name="description" content="一个漂亮、简洁的 Hexo 主题">
    
    <link rel="preload" href="/hexo-theme-stun/assets/css/0.styles.ef74348f.css" as="style"><link rel="preload" href="/hexo-theme-stun/assets/js/app.85a0555e.js" as="script"><link rel="preload" href="/hexo-theme-stun/assets/js/2.327db69f.js" as="script"><link rel="preload" href="/hexo-theme-stun/assets/js/19.ad809ef8.js" as="script"><link rel="preload" href="/hexo-theme-stun/assets/js/3.c46f99ba.js" as="script"><link rel="prefetch" href="/hexo-theme-stun/assets/js/10.a5ce5ea9.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/11.7ccf802c.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/12.22b0bf46.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/13.f11a9cb5.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/14.cf73a25b.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/15.17d3ff88.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/16.7e94da94.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/17.3e9d155e.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/18.a32d9f13.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/20.9b0e2916.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/21.123e2be7.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/22.1e0f2bd6.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/4.6fd1ef01.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/5.da37f56e.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/6.d09cb291.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/7.8d0d2fcf.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/8.62b4cf3a.js"><link rel="prefetch" href="/hexo-theme-stun/assets/js/9.e3e443a1.js">
    <link rel="stylesheet" href="/hexo-theme-stun/assets/css/0.styles.ef74348f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/hexo-theme-stun/zh-CN/" class="home-link router-link-active"><img src="/hexo-theme-stun/icons/favicon-192x192.png" alt="hexo-theme-stun" class="logo"> <span class="site-name can-hide">hexo-theme-stun</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置指南" class="dropdown-title"><span class="title">配置指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="配置指南" class="mobile-dropdown-title"><span class="title">配置指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/guide/quick-start.html" class="nav-link">
  快速开始
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/guide/primary.html" class="nav-link">
  新手上路
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级设置" class="dropdown-title"><span class="title">高级设置</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级设置" class="mobile-dropdown-title"><span class="title">高级设置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/advanced.html" class="nav-link">
  新手进阶
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/third-part.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  第三方支持
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/assist.html" class="nav-link">
  辅助功能
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/optimize.html" class="nav-link">
  优化建议
</a></li></ul></div></div><div class="nav-item"><a href="/hexo-theme-stun/zh-CN/contribute/contribute.html" class="nav-link">
  参与贡献
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/advanced/third-part.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/third-part.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/liuyib/hexo-theme-stun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="配置指南" class="dropdown-title"><span class="title">配置指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="配置指南" class="mobile-dropdown-title"><span class="title">配置指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/guide/quick-start.html" class="nav-link">
  快速开始
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/guide/primary.html" class="nav-link">
  新手上路
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级设置" class="dropdown-title"><span class="title">高级设置</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级设置" class="mobile-dropdown-title"><span class="title">高级设置</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/advanced.html" class="nav-link">
  新手进阶
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/third-part.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  第三方支持
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/assist.html" class="nav-link">
  辅助功能
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/optimize.html" class="nav-link">
  优化建议
</a></li></ul></div></div><div class="nav-item"><a href="/hexo-theme-stun/zh-CN/contribute/contribute.html" class="nav-link">
  参与贡献
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/advanced/third-part.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/hexo-theme-stun/zh-CN/advanced/third-part.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/liuyib/hexo-theme-stun" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>配置指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hexo-theme-stun/zh-CN/guide/quick-start.html" class="sidebar-link">快速开始</a></li><li><a href="/hexo-theme-stun/zh-CN/guide/primary.html" class="sidebar-link">新手上路</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>高级设置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hexo-theme-stun/zh-CN/advanced/advanced.html" class="sidebar-link">新手进阶</a></li><li><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html" aria-current="page" class="active sidebar-link">第三方支持</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#pwa" class="sidebar-link">PWA</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#启用-quicklink" class="sidebar-link">启用 Quicklink</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#启用-pjax" class="sidebar-link">启用 Pjax</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#添加-emoji-支持" class="sidebar-link">添加 Emoji 支持</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#评论系统" class="sidebar-link">评论系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#gitalk" class="sidebar-link">Gitalk</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#valine" class="sidebar-link">Valine</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#livere-来必力" class="sidebar-link">Livere（来必力）</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#disqus" class="sidebar-link">Disqus</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#utterances" class="sidebar-link">Utterances</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#统计与分析" class="sidebar-link">统计与分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#卜蒜子统计" class="sidebar-link">卜蒜子统计</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#谷歌分析" class="sidebar-link">谷歌分析</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#百度分析" class="sidebar-link">百度分析</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#腾讯分析" class="sidebar-link">腾讯分析</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#添加站长管理工具" class="sidebar-link">添加站长管理工具</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#谷歌站长" class="sidebar-link">谷歌站长</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#必应站长" class="sidebar-link">必应站长</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#百度站长" class="sidebar-link">百度站长</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#_360-站长" class="sidebar-link">360 站长</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#搜狗站长" class="sidebar-link">搜狗站长</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#搜索系统" class="sidebar-link">搜索系统</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#algolia-搜索" class="sidebar-link">Algolia 搜索</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#本地搜索" class="sidebar-link">本地搜索</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#辅助搜索按钮" class="sidebar-link">辅助搜索按钮</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#数学公式" class="sidebar-link">数学公式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#mathjax" class="sidebar-link">MathJax</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#katex" class="sidebar-link">KaTeX</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#相关插件" class="sidebar-link">相关插件</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#如何使用" class="sidebar-link">如何使用</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#广告" class="sidebar-link">广告</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#谷歌广告" class="sidebar-link">谷歌广告</a></li></ul></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#特效" class="sidebar-link">特效</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#ribbon" class="sidebar-link">Ribbon</a></li><li class="sidebar-sub-header"><a href="/hexo-theme-stun/zh-CN/advanced/third-part.html#particle-nest" class="sidebar-link">Particle / Nest</a></li></ul></li></ul></li><li><a href="/hexo-theme-stun/zh-CN/advanced/assist.html" class="sidebar-link">辅助功能</a></li><li><a href="/hexo-theme-stun/zh-CN/advanced/optimize.html" class="sidebar-link">优化建议</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>参与贡献</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/hexo-theme-stun/zh-CN/contribute/contribute.html" class="sidebar-link">贡献准则</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="第三方支持"><a href="#第三方支持" class="header-anchor">#</a> 第三方支持</h1> <h2 id="pwa"><a href="#pwa" class="header-anchor">#</a> PWA <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.2</span></h2> <p>如果你想要使网站支持 PWA 特性，需要安装插件 <a href="https://github.com/lavas-project/hexo-pwa" target="_blank" rel="noopener noreferrer">hexo-pwa<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。该插件可以使你的网站具有以下功能：</p> <ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/Manifest" target="_blank" rel="noopener noreferrer">Web App Manifest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - 用户可以将您的站点添加到桌面上。</li> <li><a href="https://developers.google.com/web/fundamentals/primers/service-workers/" target="_blank" rel="noopener noreferrer">Service Worker<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> - 让您的网站中，已访问过的页面离线可用。</li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>您的博客必须全站支持 HTTPS，这是使用 PWA 的前提条件。</p></div> <p>使用步骤如下：</p> <ol><li><p>安装插件</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> hexo-pwa --save
</code></pre></div></li> <li><p>配置插件</p> <p>找到 Hexo 根目录下的 <code>_config.yml</code> 文件，添加以下字段：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pwa</span><span class="token punctuation">:</span>
  <span class="token key atrule">manifest</span><span class="token punctuation">:</span>
    <span class="token comment"># Manifest 文件名和路径</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /manifest.json
  <span class="token key atrule">serviceWorker</span><span class="token punctuation">:</span>
    <span class="token comment"># Service Worker 的文件名和路径</span>
    <span class="token key atrule">path</span><span class="token punctuation">:</span> /sw.js
    <span class="token comment"># 在 xxx 路径下，预加载的文章数</span>
    <span class="token key atrule">preload</span><span class="token punctuation">:</span>
      <span class="token key atrule">urls</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> /
      <span class="token key atrule">posts</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token comment"># 有关以下配置项，具体请查看：https://googlechromelabs.github.io/sw-toolbox/api.html#options</span>
    <span class="token key atrule">opts</span><span class="token punctuation">:</span>
      <span class="token comment"># 网络请求超时自动返回到缓存过的响应的时间</span>
      <span class="token key atrule">networkTimeoutSeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">routes</span><span class="token punctuation">:</span>
      <span class="token comment"># 缓存你的静态资源，例如你使用了 webp 格式的图片，将其添加进来</span>
      <span class="token punctuation">-</span> <span class="token key atrule">pattern</span><span class="token punctuation">:</span> <span class="token tag">!!js/regexp</span> /.<span class="token important">*\.(js|css|html|jpg|jpeg|png|svg|gif|json|xml|eot|ttf|woff|woff2)$/</span>
        <span class="token comment"># 缓存策略，可选值：cacheFirst, networkFirst, cacheOnly, networkOnly, fastest</span>
        <span class="token comment"># 每个值的具体含义请查看：https://googlechromelabs.github.io/sw-toolbox/api.html#handlers</span>
        <span class="token key atrule">strategy</span><span class="token punctuation">:</span> cacheFirst
      <span class="token punctuation">-</span> <span class="token key atrule">pattern</span><span class="token punctuation">:</span> <span class="token tag">!!js/regexp</span> /\//
        <span class="token key atrule">strategy</span><span class="token punctuation">:</span> networkFirst
      <span class="token comment"># 如果你想缓存 CDN 资源，请像下面这样进行设置</span>
      <span class="token punctuation">-</span> <span class="token key atrule">pattern</span><span class="token punctuation">:</span> <span class="token tag">!!js/regexp</span> /cdn.jsdelivr.net/
        <span class="token key atrule">strategy</span><span class="token punctuation">:</span> cacheFirst
  <span class="token comment"># Hexo 插件的执行优先级（一般不用修改）</span>
  <span class="token key atrule">priority</span><span class="token punctuation">:</span> <span class="token number">5</span>
</code></pre></div><p>上面的配置中，引用了 <code>manifest.json</code> 和 <code>sw.js</code> 文件。其中 <code>sw.js</code> 文件是 <code>hexo-pwa</code> 插件自动生成的。<code>manifest.json</code> 文件需要用户手动创建。</p></li> <li><p>创建 <code>manifest.json</code> 文件</p> <p>你可以借助 <a href="https://app-manifest.firebaseapp.com/" target="_blank" rel="noopener noreferrer">Web App Manifest<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 网站来快速生成 <code>manifest.json</code> 文件，生成的文件内容如下所示：</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token comment">// 应用全称。例如：liuyib's blog</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 应用简称。例如：liuyib</span>
  <span class="token property">&quot;short_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;xxx&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 定义首次启动时要打开哪个页面</span>
  <span class="token property">&quot;start_url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 应用的显示模式。详见：https://developer.mozilla.org/zh-CN/docs/Web/Manifest#display</span>
  <span class="token property">&quot;display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;standalone&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 匹配浏览器的地址栏颜色</span>
  <span class="token property">&quot;theme_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 加载应用时的开屏背景色</span>
  <span class="token property">&quot;background_color&quot;</span><span class="token operator">:</span> <span class="token string">&quot;#ffffff&quot;</span><span class="token punctuation">,</span>
  <span class="token comment">// 指定图标参数，用来适配不同设备</span>
  <span class="token comment">// ！！！至少提供 192x192px 图标和 512x512px 图标 ！！！</span>
  <span class="token property">&quot;icons&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/icons/favicon-192x192.png&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sizes&quot;</span><span class="token operator">:</span> <span class="token string">&quot;192x192&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;images/icons/favicon-512x512.png&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;sizes&quot;</span><span class="token operator">:</span> <span class="token string">&quot;512x512&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;image/png&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>你需要将 <code>manifest.json</code> 文件放在 Hexo 根目录下的 source 文件夹中。</p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pwa</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># manifest 文件的路径</span>
  <span class="token key atrule">manifest</span><span class="token punctuation">:</span> /manifest.json
  <span class="token comment"># 浏览器导航栏的背景颜色（只在安装的 PWA 离线应用中生效）</span>
  <span class="token key atrule">theme_color</span><span class="token punctuation">:</span> <span class="token string">&quot;#ffffff&quot;</span>
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>如果你不想使用 <code>hexo-pwa</code> 插件，那么你需要自己编写 <code>sw.js</code> 文件的相关代码，并在主题的模板文件（<code>.pug</code>）中，所有的页面里引入你的 <code>sw.js</code> 文件。<code>manifest.json</code> 文件的创建方法和放置位置同上。</p></div> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p><code>hexo-pwa</code> 插件的 <code>0.1.3</code> 及以下的版本，不兼容 Hexo <code>4.2.0</code> 版本。因此如果你使用了该插件，并且 Hexo 版本升级到了 <code>v4.2.0</code>，会遇到启动 Hexo 服务时报错的问题。</p></div> <h2 id="启用-quicklink"><a href="#启用-quicklink" class="header-anchor">#</a> 启用 Quicklink <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.3</span></h2> <p>如果想要使用 <a href="https://github.com/GoogleChromeLabs/quicklink/" target="_blank" rel="noopener noreferrer">quicklink<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，使浏览器在空闲时间预取可视区内的链接，以加快后续页面的加载速度。你需要按照如下步骤设置：</p> <ol><li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">quicklink</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用。这里启用之后并不会对所有页面生效，你还需要进行下面的设置</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 设置 home 页面和 archive 页面是否启用</span>
  <span class="token key atrule">home</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">archive</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 当浏览器 DOMContentLoaded 事件触发后，开始初始化 quicklink</span>
  <span class="token key atrule">delay</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># requestIdleCallback 超时时间（浏览器执行预取的时间（以毫秒为单位））</span>
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">10000</span>
  <span class="token comment"># 启用 fetch() 或回退到 XHR</span>
  <span class="token key atrule">priority</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 设置忽略预取的链接类型</span>
  <span class="token comment"># ！！如果你不了解如何使用，请忽略这一项（默认即可）！！</span>
  <span class="token key atrule">ignores</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> /\/api\/<span class="token punctuation">?</span>/
    <span class="token punctuation">-</span> uri =<span class="token punctuation">&gt;</span> uri.includes('.xml')
    <span class="token punctuation">-</span> uri =<span class="token punctuation">&gt;</span> uri.includes('.zip')
    <span class="token punctuation">-</span> (uri<span class="token punctuation">,</span> el) =<span class="token punctuation">&gt;</span> el.hasAttribute('nofollow')
    <span class="token punctuation">-</span> (uri<span class="token punctuation">,</span> el) =<span class="token punctuation">&gt;</span> el.hasAttribute('noprefetch')
</code></pre></div></li> <li><p>添加 Front-Matter</p> <p>上一步只是设置了 home 页面和 archive 页面是否启用 quicklink，对于其他页面或文章，你必须手动在页面或文章的 Markdown 文件的 Front-Matter 中，添加 <code>quicklink: true</code>。例如：</p> <div class="language-md extra-class"><pre class="language-md"><code><span class="token hr punctuation">---</span>
title: hello stun
tags:
  <span class="token list punctuation">-</span> hello stun
<span class="token title important">quicklink: true
<span class="token punctuation">---</span></span>
</code></pre></div></li></ol> <h2 id="启用-pjax"><a href="#启用-pjax" class="header-anchor">#</a> 启用 Pjax <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.4.0</span></h2> <p>启用 Pjax 可以让你的博客在页面之间跳转时，只进行局部刷新。这样不仅可以改善用户浏览体验，更能提高页面的加载速度。如果想启用这一功能，你需要修改主题配置文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">pjax</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 是否在切换页面时，滚动到顶部大图的底部</span>
  <span class="token key atrule">avoid_banner</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># ！！如果你不了解如何使用，请忽略下面的配置项（默认即可）！！</span>
  <span class="token comment"># 下面配置项的用法，请参见: https://github.com/MoOx/pjax/#options</span>
  <span class="token key atrule">elements</span><span class="token punctuation">:</span>
  <span class="token key atrule">selectors</span><span class="token punctuation">:</span>
  <span class="token key atrule">switches</span><span class="token punctuation">:</span>
  <span class="token key atrule">switchesOptions</span><span class="token punctuation">:</span>
  <span class="token key atrule">history</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 如果启用这个配置项，必须设置 `avoid_banner: false`</span>
  <span class="token key atrule">scrollTo</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">scrollRestoration</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">cacheBust</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">debug</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">currentUrlFullReload</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> <span class="token number">0</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">已知问题</p> <ul><li>不兼容 MathJax（必须手动刷新页面一次后，MathJax 才能正常使用（KaTex 可以正常使用））。</li> <li>有些 JS、CSS 文件只会在特定的页面加载，如果启用了 Pjax，则会在所有页面加载。</li></ul></div> <h2 id="添加-emoji-支持"><a href="#添加-emoji-支持" class="header-anchor">#</a> 添加 Emoji 支持 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>Disrelated</span></h2> <p>如果想要使用 Emoji，你可以直接在<a href="http://emojihomepage.com/" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>复制粘贴使用。</p> <p>如果你更喜欢使用 Emoji 代码，例如：将 <code>:sparkles:</code> 解析为 ✨, 那么你需要安装插件 <a href="https://github.com/crimx/hexo-filter-github-emojis" target="_blank" rel="noopener noreferrer">hexo-filter-github-emojis<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来支持这种语法。</p> <p>使用步骤如下：</p> <ol><li><p>安装插件</p> <p>在 Hexo 根目录下，执行指令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> hexo-filter-github-emojis --save
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <p>如果你不喜欢 <code>::</code> 的语法，你可以使用下面这种方法代替：</p> <div class="language- extra-class"><pre class="language-text"><code>{% github_emoji sparkles %}
</code></pre></div><p>如果你需要某个 Markdown 文件不解析这种语法，可以在 Markdown 文件里的 <code>front-matter</code> 中，设置 <code>no-emoji: true</code>，这样 <code>::</code> 会保持原来的样子。例如：</p> <div class="language-md extra-class"><pre class="language-md"><code><span class="token hr punctuation">---</span>
title: hello stun
tags:
  <span class="token list punctuation">-</span> hello stun
<span class="token title important">no-emoji: true
<span class="token punctuation">---</span></span>
</code></pre></div><p>有关该插件的更详尽的用法，请自行查阅其<a href="https://github.com/crimx/hexo-filter-github-emojis" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。查看所有支持的 Emoji 请访问：<a href="https://api.github.com/emojis" target="_blank" rel="noopener noreferrer">Github Emojis API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或者 <a href="http://www.webpagefx.com/tools/emoji-cheat-sheet/" target="_blank" rel="noopener noreferrer">Emoji Cheat Sheet<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <blockquote><p>你也可以通过更换 Markdown 渲染器 <code>hexo-renderer-markdown-it-plus</code> 来支持 Emoji。详见：<a href="https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus" target="_blank" rel="noopener noreferrer">https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <h2 id="评论系统"><a href="#评论系统" class="header-anchor">#</a> 评论系统</h2> <h3 id="gitalk"><a href="#gitalk" class="header-anchor">#</a> Gitalk <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.0</span></h3> <p>Gitalk 是一个基于 Github issues 的评论系统。使用之前需要确保你指定的 Github 仓库是公开的，并开启了 issues 功能。</p> <p>首先，你需要注册一个新的 <strong>GitHub Application</strong> 来授权，点击<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener noreferrer">这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注册。这样可以获取所需的 <code>client ID</code> 和 <code>client secret</code>。</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>注册 GitHub Application 时，必须在 <code>Authorization callback URL</code> 字段中指定网站的 URL。</p></div> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">gitalk</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># Github 用户名</span>
  <span class="token key atrule">owner</span><span class="token punctuation">:</span>
  <span class="token comment"># Github 仓库名（需要是公开的仓库）</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span>
  <span class="token comment"># Github 应用程序客户端 ID</span>
  <span class="token key atrule">client_id</span><span class="token punctuation">:</span>
  <span class="token comment"># Github 应用程序客户端密钥</span>
  <span class="token key atrule">client_secret</span><span class="token punctuation">:</span>
  <span class="token comment"># GitHub 仓库所有者和合作者，只有这些人可以初始化 Gitalk</span>
  <span class="token key atrule">admin</span><span class="token punctuation">:</span>
  <span class="token comment"># 类似于 B 站的关灯模式</span>
  <span class="token key atrule">distraction_free_mode</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 如果你想让每一个参观你网站的人看到统一的语言，你可以在这里设置，</span>
  <span class="token comment"># 可选值：en, zh-CN, es-ES, fr, ru, zh-TW</span>
  <span class="token key atrule">language</span><span class="token punctuation">:</span>
</code></pre></div><p>如果你遇到了问题，请查看 Gitalk 的文档：<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener noreferrer">https://github.com/gitalk/gitalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="valine"><a href="#valine" class="header-anchor">#</a> Valine <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.1</span></h3> <p>Valine 评论系统依赖于 LeanCloud，所以你需要<a href="https://leancloud.cn/dashboard/login.html#/signin" target="_blank" rel="noopener noreferrer">登录<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>或<a href="https://leancloud.cn/dashboard/login.html#/signup" target="_blank" rel="noopener noreferrer">注册<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> LeanCloud，获取 <code>APP ID</code> 和 <code>APP Key</code>。详细步骤，请查看：<a href="https://valine.js.org/quickstart.html" target="_blank" rel="noopener noreferrer">https://valine.js.org/quickstart.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">valine</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 你的 LeanCloud app appid</span>
  <span class="token key atrule">appid</span><span class="token punctuation">:</span>
  <span class="token comment"># 你的 LeanCloud app appkey</span>
  <span class="token key atrule">appkey</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用评论回复邮件提醒</span>
  <span class="token key atrule">notify</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 是否启用评论验证码</span>
  <span class="token key atrule">verify</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 评论框占位提示符</span>
  <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> Just go go
  <span class="token comment"># Gravatar 头像展示方式</span>
  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> mp
  <span class="token comment"># 评论者相关属性（默认：昵称、邮件、网址）</span>
  <span class="token key atrule">meta</span><span class="token punctuation">:</span> nick<span class="token punctuation">,</span>mail<span class="token punctuation">,</span>link
  <span class="token comment"># 评论列表分页，每页条数</span>
  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token comment"># 是否启用文章访问量统计</span>
  <span class="token key atrule">visitor</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 是否记录评论者IP</span>
  <span class="token key atrule">recordIP</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 多语言支持，可选值：zh-cn, en</span>
  <span class="token key atrule">language</span><span class="token punctuation">:</span>
</code></pre></div><p>完成上述步骤之后，你还需要在 LeanCloud 中新建 或 选择一个名为 <code>Comment</code> 的 Class 才能使用 Valine。详细步骤，请查看：<a href="https://valine.js.org/quickstart.html#%E8%AF%84%E8%AE%BA%E6%95%B0%E6%8D%AE%E7%AE%A1%E7%90%86" target="_blank" rel="noopener noreferrer">https://valine.js.org/quickstart.html#评论数据管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="livere-来必力"><a href="#livere-来必力" class="header-anchor">#</a> Livere（来必力）<span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.1</span></h3> <p>进入来必力<a href="https://livere.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注册账号，登录，点击安装，选择合适的版本后，会显示安装代码，在代码中可以找到你的 <code>uid</code>，例如：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lv-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-uid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>这里是你的 uid<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>然后将 <code>uid</code> 填入主题的配置文件即可：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">livere</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">uid</span><span class="token punctuation">:</span>
</code></pre></div><h3 id="disqus"><a href="#disqus" class="header-anchor">#</a> Disqus <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.1</span></h3> <p>进入 Disqus <a href="https://disqus.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>注册账号，登录，点击 <code>I want to install Disqus on my site</code>，在 <code>Website Name</code> 字段中，输入你的网站的名称（可以是任意的），然后选择好 <code>Category</code> 和 <code>Language</code> 字段后，点击 <code>Create Site</code>。</p> <p>这里输入的网站名称，就是你的 <code>shortname</code>，将其填入主题的配置文件即可：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">disqus</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">shortname</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否显示文章的评论数</span>
  <span class="token key atrule">count</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><h3 id="utterances"><a href="#utterances" class="header-anchor">#</a> Utterances <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.6.0</span></h3> <p>Utterances 是一个基于 Github issues 的评论系统。使用之前需要确保你指定的 Github 仓库是公开的，并开启了 issues 功能。</p> <p>首先，将 <a href="https://github.com/apps/utterances" target="_blank" rel="noopener noreferrer">utterances app<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 安装在了你的 Github 仓库中。然后，修改以下配置项（如果你不想麻烦，只需设置 <code>owner</code> 和 <code>repo</code> 即可正常使用）：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">utterances</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># Github 用户名</span>
  <span class="token key atrule">owner</span><span class="token punctuation">:</span>
  <span class="token comment"># Github 仓库名（需要是公开的仓库）</span>
  <span class="token key atrule">repo</span><span class="token punctuation">:</span>
  <span class="token comment"># 选择 GitHub issues 和博客文章之间的映射关系</span>
  <span class="token comment"># 可选值: pathname | url | title | og:title</span>
  <span class="token comment">#   pathname: 使用博客 URL 中的 pathname 来新建 issues</span>
  <span class="token comment">#        url: 使用博客的 URL 来新建 issues</span>
  <span class="token comment">#      title: 使用博客的标题来新建 issues</span>
  <span class="token comment">#   og:title: 使用页面中的 Open Graph title meta 来新建 issues（如果你不了解 Open Graph 协议，请查看：https://ogp.me/）</span>
  <span class="token comment"># （确保博客文章的 url path、url、标题、og:title 不重复，否则评论可能会冲突）</span>
  <span class="token key atrule">mapping</span><span class="token punctuation">:</span> title
  <span class="token comment"># 选择 Utterances 创建 issues 时，使用的 label 名称（支持 Emoji）</span>
  <span class="token key atrule">label</span><span class="token punctuation">:</span> utterances
  <span class="token comment"># 选择 Utterances 评论的主题配色</span>
  <span class="token comment"># 可选值: github-light | github-dark | github-dark-orange | icy-dark | dark-blue | photon-dark</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>light
  <span class="token comment"># ! --------------------------------------------------------------------------------</span>
  <span class="token comment"># ! Utterances 依赖的脚本地址，不要随意修改。如果官网提供的地址和下面不同，你才需要手动设置</span>
  <span class="token comment"># ! --------------------------------------------------------------------------------</span>
  <span class="token key atrule">script_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//utteranc.es/client.js
</code></pre></div><p>想要预览 Utterances 的 <code>theme</code> 配置项的效果，你可以去官网查看：<a href="https://utteranc.es/" target="_blank" rel="noopener noreferrer">https://utteranc.es/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>从 Gitalk 迁移到 Utterances，你只需要修改 Utterances 的配置选项，将 <code>mapping</code> 选项的值改为 <code>title</code>：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">utterances</span><span class="token punctuation">:</span>
  <span class="token key atrule">mapping</span><span class="token punctuation">:</span> title
</code></pre></div><p>同理，如果你使用 Utterances 时，是通过博客标题生成的 issues，那么默认就是兼容 Gitalk 的。</p></div> <h2 id="统计与分析"><a href="#统计与分析" class="header-anchor">#</a> 统计与分析</h2> <h3 id="卜蒜子统计"><a href="#卜蒜子统计" class="header-anchor">#</a> 卜蒜子统计 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span></h3> <p>修改主题配置文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">busuanzi</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 是否只显示图标</span>
  <span class="token key atrule">icon_only</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 统计站点 UV 数量</span>
  <span class="token key atrule">site_uv</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment"># 查找图标名称，请访问：https://fontawesome.com/icons</span>
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user
  <span class="token comment"># 统计站点 PV 数量</span>
  <span class="token key atrule">site_pv</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment"># 查找图标名称，请访问：https://fontawesome.com/icons</span>
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>eye
  <span class="token comment"># 统计每篇文章的 PV 数量</span>
  <span class="token key atrule">post_pv</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token comment"># 查找图标名称，请访问：https://fontawesome.com/icons</span>
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>eye
</code></pre></div><h3 id="谷歌分析"><a href="#谷歌分析" class="header-anchor">#</a> 谷歌分析 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问谷歌分析<a href="https://analytics.google.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>找到你的跟踪 ID</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190826162345.png" alt="Stun | google_analytics demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">google_analytics</span><span class="token punctuation">:</span> <span class="token comment"># 填入你的跟踪 ID</span>
</code></pre></div></li></ol> <h3 id="百度分析"><a href="#百度分析" class="header-anchor">#</a> 百度分析 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问百度分析<a href="https://tongji.baidu.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>找到你百度分析的统计代码</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190826162702.jpg" alt="Stun | baidu_analytics demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">baidu_analytics</span><span class="token punctuation">:</span> <span class="token comment"># 填入你的统计代码</span>
</code></pre></div></li></ol> <h3 id="腾讯分析"><a href="#腾讯分析" class="header-anchor">#</a> 腾讯分析 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问腾讯分析<a href="https://v2.ta.qq.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>找到你腾讯分析的统计代码</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190826162701.png" alt="Stun | tencent_analytics demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">tencent_analytics</span><span class="token punctuation">:</span> <span class="token comment"># 填入你的统计代码</span>
</code></pre></div></li></ol> <h2 id="添加站长管理工具"><a href="#添加站长管理工具" class="header-anchor">#</a> 添加站长管理工具</h2> <p>用于优化 SEO，让你的网站内容更好的被搜索引擎抓取到。</p> <h3 id="谷歌站长"><a href="#谷歌站长" class="header-anchor">#</a> 谷歌站长 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问谷歌站长<a href="https://www.google.com/webmasters/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>根据提示将你的网站添加进去</p></li> <li><p>在【验证所有权】步骤中，选择【HTML 标记】，找到 <code>meta</code> 标签里的 <code>content</code>。例如：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20191222192304.jpg" alt="Stun | google_site_verification demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">google_site_verification</span><span class="token punctuation">:</span> <span class="token comment"># 填入 meta 标签中 content 属性的值</span>
</code></pre></div></li> <li><p>更新发布你的网站</p></li> <li><p>验证是否添加成功</p> <blockquote><p>打开浏览器控制台，查看元素，确保你网站的 <code>head</code> 标签中已经包含了：<code>&lt;meta name=&quot;google-site-verification&quot; content=&quot;******&quot;&gt;</code>（<code>content</code> 的值就是你在配置文件中填写的那个）。</p></blockquote> <p>回到验证页面，点击【验证】。如果验证失败，你需要根据失败信息自行解决。</p></li> <li><p>提交 sitemap 文件</p> <blockquote><p>sitemap 文件，即站点地图文件，使搜索引擎抓取你的网站更方便，这样会大大提高被收录的概率。</p></blockquote> <blockquote><p>想要生成 sitemap 文件，你需要安装插件 <code>hexo-generator-sitemap</code>，在 Hexo 根目录执行指令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> hexo-generator-sitemap --save
</code></pre></div><p>默认情况下，该插件会在你网站更新发布的过程中，在根目录生成 <code>sitemap.xml</code> 文件。你可以验证一下该文件是否能访问到：<code>https://你的网站域名/sitemap.xml</code>。</p> <p>你也可以对该插件进行配置，请查看插件的<a href="https://github.com/hexojs/hexo-generator-sitemap" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></blockquote> <p>在【站点地图】中，提交你的 sitemap 文件网址即可。</p></li></ol> <h3 id="必应站长"><a href="#必应站长" class="header-anchor">#</a> 必应站长 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问必应站长<a href="https://www.bing.com/webmaster/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>根据提示将你的网站添加进去（最好把 sitemap 的网址也添加上，也可以稍后添加）</p></li> <li><p>在验证页面，找到 <code>meta</code> 标签里的 <code>content</code>。例如：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20191222192305.jpg" alt="Stun | bing_site_verification demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">bing_site_verification</span><span class="token punctuation">:</span> <span class="token comment"># 填入 meta 标签中 content 属性的值</span>
</code></pre></div></li> <li><p>更新发布你的网站</p></li> <li><p>验证是否添加成功</p> <blockquote><p>打开浏览器控制台，查看元素，确保你网站的 <code>head</code> 标签中已经包含了：<code>&lt;meta name=&quot;msvalidate.01&quot; content=&quot;******&quot;&gt;</code>（<code>content</code> 的值就是你在配置文件中填写的那个）。</p></blockquote> <p>回到验证页面，点击【验证】。如果验证失败，你需要根据失败信息自行解决。</p></li> <li><p>提交 sitemap 文件</p> <blockquote><p>如果在第二步你已经提交了 sitemap，请忽略这一步。</p></blockquote> <p>在【配置“我的网站”】-&gt;【Sitemaps】中，提交你的 sitemap 文件网址即可。</p> <blockquote><p>如果不知道你的 sitemap 文件网址，请查看上述文档中<strong>谷歌站长的第 7 步</strong>。</p></blockquote></li></ol> <h3 id="百度站长"><a href="#百度站长" class="header-anchor">#</a> 百度站长 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问百度站长<a href="https://ziyuan.baidu.com/site/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>点击【添加网站】，根据提示将你的网站添加进去</p></li> <li><p>在【验证网站】步骤中，选择 【HTML 标签验证】，找到 <code>meta</code> 标签里的 <code>content</code>。例如：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20191222192302.jpg" alt="Stun | baidu_site_verification demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">baidu_site_verification</span><span class="token punctuation">:</span> <span class="token comment"># 填入 meta 标签中 content 属性的值</span>
</code></pre></div></li> <li><p>更新发布你的网站</p></li> <li><p>验证是否添加成功</p> <blockquote><p>打开浏览器控制台，查看元素，确保你网站的 <code>head</code> 标签中已经包含了：<code>&lt;meta name=&quot;baidu-site-verification&quot; content=&quot;******&quot;&gt;</code>（<code>content</code> 的值就是你在配置文件中填写的那个）。</p></blockquote> <p>回到验证页面，点击【完成验证】。如果验证失败，你需要根据失败信息自行解决。</p></li> <li><p>提交 sitemap 文件</p> <p>在【链接提交】-&gt;【sitemap】中，提交你的 sitemap 文件网址即可。</p> <blockquote><p>如果不知道你的 sitemap 文件网址，请查看上述文档中<strong>谷歌站长的第 7 步</strong>。</p></blockquote></li></ol> <h3 id="_360-站长"><a href="#_360-站长" class="header-anchor">#</a> 360 站长 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>Beta</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.4</span></h3> <ol><li><p>访问 360 网站站长<a href="http://zhanzhang.so.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>点击【添加网站】，根据提示将你的网站添加进去</p></li> <li><p>点击【请验证】-&gt;【代码验证】，找到 <code>meta</code> 标签里的 <code>content</code>。例如：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20191222192303.jpg" alt="Stun | qihu_site_verification demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">qihu_site_verification</span><span class="token punctuation">:</span> <span class="token comment"># 填入 meta 标签中 content 属性的值</span>
</code></pre></div></li> <li><p>更新发布你的网站</p></li> <li><p>验证是否添加成功</p> <blockquote><p>打开浏览器控制台，查看元素，确保你网站的 <code>head</code> 标签中已经包含了：<code>&lt;meta name=&quot;360-site-verification&quot; content=&quot;******&quot;&gt;</code>（<code>content</code> 的值就是你在配置文件中填写的那个）。</p></blockquote> <p>回到验证页面，点击【点击验证】。如果验证失败，你需要根据失败信息自行解决。</p></li> <li><p>提交 sitemap 文件</p> <p>在【数据提交】-&gt;【Sitemap 提交】中，提交你的 sitemap 文件网址即可。</p> <blockquote><p>如果不知道你的 sitemap 文件网址，请查看上述文档中<strong>谷歌站长的第 7 步</strong>。</p></blockquote></li></ol> <h3 id="搜狗站长"><a href="#搜狗站长" class="header-anchor">#</a> 搜狗站长 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>Beta</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.7.0</span></h3> <ol><li><p>访问搜狗网站站长<a href="http://zhanzhang.sogou.com/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>点击【用户中心】-&gt;【添加网站】，根据提示将你的网站添加进去</p></li> <li><p>点击【验证网站】-&gt;【HTML 标签验证】，找到 <code>meta</code> 标签里的 <code>content</code>。例如：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20200202181610.jpg" alt="Stun | sougou_site_verification demo"></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">sougou_site_verification</span><span class="token punctuation">:</span> <span class="token comment"># 填入 meta 标签中 content 属性的值</span>
</code></pre></div></li> <li><p>更新发布你的网站</p></li> <li><p>验证是否添加成功</p> <blockquote><p>打开浏览器控制台，查看元素，确保你网站的 <code>head</code> 标签中已经包含了：<code>&lt;meta name=&quot;sogou_site_verification&quot; content=&quot;******&quot;&gt;</code>（<code>content</code> 的值就是你在配置文件中填写的那个）。</p></blockquote> <p>回到验证页面，点击【完成验证】。如果验证失败，你需要根据失败信息自行解决。</p></li></ol> <blockquote><p>搜狗站长不支持提交 sitemap 文件，只能手动提交网址。</p></blockquote> <h2 id="搜索系统"><a href="#搜索系统" class="header-anchor">#</a> 搜索系统</h2> <h3 id="algolia-搜索"><a href="#algolia-搜索" class="header-anchor">#</a> Algolia 搜索 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.0.3</span></h3> <p>启用 Algolia 搜索功能，你需要按照以下步骤进行配置：</p> <ol><li><p>登录官网</p> <p>访问 <a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">Algolia 官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，可以注册一个账号登录，也可以使用 Github 账号或者 Google 账号登录。</p></li> <li><p>进入 Indices 页面</p> <p>点击 Create Index，然后填写输入框：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190711194035.png" alt="Stun | Algolia - Create Index"></p></li> <li><p>进入 API Keys 页面</p> <p>你会看到 <code>Application ID</code> 和 <code>Search-Only API Key</code>，将它们保存下来，在后面的设置中会用到：
<img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190711194037.png" alt="Stun | Algolia - API Keys"></p> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>注意，这里一定不要使用 <code>Admin API Key</code> 作为你的 API Key，更不要将其写入你的配置文件。</p></div> <p>点击 <code>ALL API KEYS</code> 和 <code>edit</code> 选项。这样会弹出一个框，在这个框中，你可以进行精确的授权和控制：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190711194036.png" alt="Stun | Algolia - ALL API KEYS"></p> <p>在弹出框底部的 <code>ACL</code> 选项中，勾选 <code>search</code>，<code>addObject</code>，<code>deleteIndex</code>，<code>listIndexes</code>，<code>deleteObject</code>。最后，点击 <code>Update</code> 按钮:</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190711194038.png" alt="Stun | Algolia - ACL"></p></li> <li><p>修改 Hexo 配置</p> <p>修改 Hexo 根目录下的 <code>_config.yml</code> 文件，添加 <code>applicationID</code>、<code>apiKey</code>、<code>indexName</code> 选项:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">algolia</span><span class="token punctuation">:</span>
  <span class="token key atrule">applicationID</span><span class="token punctuation">:</span> <span class="token string">&quot;填入你的 Application ID&quot;</span>
  <span class="token key atrule">apiKey</span><span class="token punctuation">:</span> <span class="token string">&quot;填入你的 Search-only API key&quot;</span>
  <span class="token key atrule">indexName</span><span class="token punctuation">:</span> <span class="token string">&quot;填入你的 indexName&quot;</span>
</code></pre></div></li> <li><p>安装 Algolia 插件</p> <blockquote><p>Algolia 要求用户手动通过提供的 API 上传它们的搜索数据。</p></blockquote> <p>在 Hexo 根目录中安装 <code>hexo-algolia</code>，这个插件将会搜索你的网站并将数据上传到 Algolia：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> hexo-algolia --save
</code></pre></div><p>运行下面这些指令，上传索引数据：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token builtin class-name">export</span> <span class="token assign-left variable">HEXO_ALGOLIA_INDEXING_KEY</span><span class="token operator">=</span>你的Search-Only API key <span class="token comment"># 在 Git Bash 中使用这条指令</span>
<span class="token comment"># set HEXO_ALGOLIA_INDEXING_KEY=你的Search-Only API key    # 在 Windows 命令行中使用这条指令</span>
$ hexo clean
$ hexo algolia
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <ol><li>每次添加新的文章后，都需要运行上面这三条指令来更新你的索引数据，否则，将无法搜索到。</li> <li>如果你发现搜索到的结果有重复的或者有旧的数据，你需要去 Algolia 官网，清除上传的数据，然后执行上面这三条指令，重新上传索引数据即可。</li></ol></div></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">algolia_search</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">hits</span><span class="token punctuation">:</span>
    <span class="token comment"># 每一页显示的搜索结果数量</span>
    <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token comment"># 是否显示搜索结果的统计信息</span>
    <span class="token key atrule">show_stats</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <p>到这里不出意外的话，你就可以使用 Algolia 搜索网站里的文章标题了。</p> <h3 id="本地搜索"><a href="#本地搜索" class="header-anchor">#</a> 本地搜索 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.2.1</span></h3> <p>从 <code>v1.2.1</code> 版本开始，Stun 原生支持本地搜索功能，和 Algolia 相比，该功能的好处如下：</p> <ul><li>搜索次数无限制</li> <li>支持多关键词搜素（在搜索框中，用空格将关键词隔开）</li> <li>既能搜索文章标题，又能搜索文章内容</li> <li>搜索速度快</li></ul> <p>想启用这一功能，首先需要安装插件 <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener noreferrer">hexo-generator-search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，这个插件用来<strong>将网站的文章信息生成索引数据</strong>。</p> <p>使用步骤如下：</p> <ol><li><p>安装插件</p> <p>在 Hexo 根目录下执行指令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save
</code></pre></div></li> <li><p>配置插件</p> <p>找到 Hexo 根目录下的 <code>_config.yml</code> 文件，添加以下字段：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">search</span><span class="token punctuation">:</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.json
  <span class="token key atrule">field</span><span class="token punctuation">:</span> post
  <span class="token key atrule">content</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div><p>有关插件的详尽信息和上述参数的含义，请查看插件的<a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener noreferrer">文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li> <li><p>生成数据</p> <p>安装上述插件后，在 Hexo 根目录下执行指令：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo g
</code></pre></div><p>这样会在你网站根目录下的 <code>public</code> 的文件夹中，生成 <code>search.json</code> 文件，Stun 主题的本地搜索功能就是利用这个文件里的数据实现的。</p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">local_search</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <h3 id="辅助搜索按钮"><a href="#辅助搜索按钮" class="header-anchor">#</a> 辅助搜索按钮 <span class="badge warning" style="vertical-align:top;" data-v-15b7b770>Beta</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v2.2.1</span></h3> <p>该功能是使用<strong>搜索引擎</strong>和<strong>你输入的关键字</strong>，来搜索你的博客网站。</p> <p>启用该功能的前提是：启用了 <a href="#algolia-%E6%90%9C%E7%B4%A2">Algolia 搜索</a> 或 <a href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2">本地搜索</a>。使用步骤如下：</p> <ol><li><p>启用 <a href="#algolia-%E6%90%9C%E7%B4%A2">Algolia 搜索</a> 或 <a href="#%E6%9C%AC%E5%9C%B0%E6%90%9C%E7%B4%A2">本地搜索</a></p></li> <li><p>修改主题配置文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">assist_search</span><span class="token punctuation">:</span>
   <span class="token comment"># 是否启用</span>
   <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token comment"># 谷歌搜索的按钮。点击该按钮后，会通过 www.google.com 来搜索你输入的字符。</span>
   <span class="token key atrule">google</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token comment"># 必应搜索的按钮。点击该按钮后，会通过 www.bing.com 来搜索你输入的字符。</span>
   <span class="token key atrule">bing</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
   <span class="token comment"># 百度搜索的按钮。点击该按钮后，会通过 www.baidu.com 来搜索你输入的字符。</span>
   <span class="token key atrule">baidu</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <h2 id="数学公式"><a href="#数学公式" class="header-anchor">#</a> 数学公式</h2> <p>想要解析页面中的数学公式，首先，你需要修改主题配置文件，启用该功能，并选择解析引擎（默认是 KaTeX 引擎）：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">math</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># 如果设为 true，将会为每一个页面启用该功能</span>
  <span class="token comment"># 如果设为 false，只有在 `Front-matter` 中设置了 `math: true` 的页面，才会启用该功能</span>
  <span class="token key atrule">per_page</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 解析引擎，可选值：mathjax 或 katex</span>
  <span class="token key atrule">engine</span><span class="token punctuation">:</span> katex
</code></pre></div><p>然后，你需要根据下面 MathJax 或 KaTeX 的说明<strong>进一步配置</strong>。</p> <h3 id="mathjax"><a href="#mathjax" class="header-anchor">#</a> MathJax <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></h3> <p>想要解析 MathJax 公式，你需要更换一个支持 MathJax 的 Markdown 渲染器。请按以下步骤操作：</p> <ol><li><p>安装新的渲染器，执行指令</p> <blockquote><p>在 Hexo 根目录下的 <code>package.json</code> 文件的 dependencies/devDependencies 字段中，可以查看安装了哪些插件。</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果安装以下插件，请全部卸载</span>
$ <span class="token function">npm</span> un hexo-renderer-marked      --save
$ <span class="token function">npm</span> un hexo-renderer-kramed      --save
$ <span class="token function">npm</span> un hexo-renderer-pandoc      --save
$ <span class="token function">npm</span> un hexo-renderer-unified     --save
$ <span class="token function">npm</span> un hexo-renderer-markdown    --save
$ <span class="token function">npm</span> un hexo-renderer-markdown-it --save
$ <span class="token function">npm</span> un hexo-math                 --save
$ <span class="token function">npm</span> un hexo-inject               --save

<span class="token comment"># 安装新的渲染器</span>
$ <span class="token function">npm</span> i hexo-renderer-markdown-it-plus --save
</code></pre></div></li> <li><p>在主题配置文件中，选择 MathJax 解析引擎</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">math</span><span class="token punctuation">:</span>
  <span class="token key atrule">engine</span><span class="token punctuation">:</span> mathjax <span class="token comment"># 字母全小写</span>
</code></pre></div></li> <li><p>重启 Hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>在 Hexo 中，渲染器（名称带有 <code>hexo-renderer-</code> 前缀的）只能安装一个，否则可能会引起一些意想不到的问题。</p></div> <h3 id="katex"><a href="#katex" class="header-anchor">#</a> KaTeX <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></h3> <p>想要解析 KaTeX 公式，你需要更换一个支持 KaTeX 的 Markdown 渲染器。请按以下步骤操作：</p> <ol><li><p>安装新的渲染器，执行指令</p> <blockquote><p>在 Hexo 根目录下的 <code>package.json</code> 文件的 dependencies/devDependencies 字段中，可以查看安装了哪些插件。</p></blockquote> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment"># 如果安装以下插件，请全部卸载</span>
$ <span class="token function">npm</span> un hexo-renderer-marked      --save
$ <span class="token function">npm</span> un hexo-renderer-kramed      --save
$ <span class="token function">npm</span> un hexo-renderer-pandoc      --save
$ <span class="token function">npm</span> un hexo-renderer-unified     --save
$ <span class="token function">npm</span> un hexo-renderer-markdown    --save
$ <span class="token function">npm</span> un hexo-renderer-markdown-it --save
$ <span class="token function">npm</span> un hexo-math                 --save
$ <span class="token function">npm</span> un hexo-inject               --save

<span class="token comment"># 安装新的渲染器</span>
$ <span class="token function">npm</span> i hexo-renderer-markdown-it-plus --save
</code></pre></div></li> <li><p>在主题配置文件中，选择 KaTeX 解析引擎</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">math</span><span class="token punctuation">:</span>
  <span class="token key atrule">engine</span><span class="token punctuation">:</span> katex <span class="token comment"># 字母全小写</span>
</code></pre></div></li> <li><p>重启 hexo 服务器</p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ hexo clean <span class="token operator">&amp;&amp;</span> hexo s
</code></pre></div></li></ol> <h3 id="相关插件"><a href="#相关插件" class="header-anchor">#</a> 相关插件</h3> <p>Stun 主题默认提供了一些 MathJax 和 Katex 的插件。</p> <ul><li><p>mhchem <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></p> <p>mhchem 是 MathJax 的插件，你可以使用这个插件来渲染化学方程式。详见：<a href="https://mhchem.github.io/MathJax-mhchem/" target="_blank" rel="noopener noreferrer">MathJax/mhchem Manual<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p></li> <li><p>Copy-tex <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></p> <p>Copy-tex 是 KaTeX 的插件，当启用这个插件之后，你只需要单击公式即可复制其源码。详见：<a href="https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex" target="_blank" rel="noopener noreferrer">Copy-tex extension<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>效果如下：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190720153859.gif" alt="Stun | Copy-tex demo"></p></li></ul> <h3 id="如何使用"><a href="#如何使用" class="header-anchor">#</a> 如何使用</h3> <p>按照上述步骤配置之后，就可以在 Markdown 中使用数学公式了。</p> <ul><li>使用 <code>$$...$$</code> 包裹公式代码，公式会另起一行显示</li> <li>使用 <code>$.....$</code> 包裹公式代码，公式会和文本在同一行显示</li></ul> <p>使用示例：</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code>这是一个行内数学公式：$\begin{vmatrix} a &amp; b \\ c &amp; d \end{vmatrix}$

这个数学公式会换行显示：
$$\begin{vmatrix} a &amp; b \\ c &amp; d \end{vmatrix}$$
</code></pre></div><p>效果如下：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190720160555.png" alt="Stun | MathJax/KaTeX demo"></p> <h2 id="广告"><a href="#广告" class="header-anchor">#</a> 广告</h2> <h3 id="谷歌广告"><a href="#谷歌广告" class="header-anchor">#</a> 谷歌广告 <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.4</span></h3> <p>首先登录谷歌广告<a href="https://www.google.com/adsense" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，选择添加广告，在给你的一段代码中找到 <code>client_id</code>，通常以 <code>ca-pub-</code> 开头。然后修改主题配置文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">google_adsense</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 填写你的 client-id</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span> ca<span class="token punctuation">-</span>pub<span class="token punctuation">-</span>xxxxxx
  <span class="token comment"># 如果和你 AdSense 嵌入代码中的脚本地址不一样，请更换</span>
  <span class="token key atrule">js_src</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js
</code></pre></div><h2 id="特效"><a href="#特效" class="header-anchor">#</a> 特效</h2> <h3 id="ribbon"><a href="#ribbon" class="header-anchor">#</a> Ribbon <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></h3> <p>修改主题配置文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">canvas_ribbon</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># ribbon 的宽度</span>
  <span class="token key atrule">size</span><span class="token punctuation">:</span> <span class="token number">300</span>
  <span class="token comment"># ribbon 的透明度</span>
  <span class="token key atrule">alpha</span><span class="token punctuation">:</span> <span class="token number">0.6</span>
  <span class="token comment"># ribbon 的层级</span>
  <span class="token key atrule">zIndex</span><span class="token punctuation">:</span> <span class="token number">-1</span>
</code></pre></div><p>效果如下：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190725220144.png" alt="Stun | canvas_ribbon demo"></p> <h3 id="particle-nest"><a href="#particle-nest" class="header-anchor">#</a> Particle / Nest <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>Stable</span> <span class="badge tip" style="vertical-align:top;" data-v-15b7b770>v1.1.2</span></h3> <p>修改主题配置文件：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">canvas_nest</span><span class="token punctuation">:</span>
  <span class="token comment"># 是否启用</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token comment"># 线条的颜色（RGB 值，请使用 &quot;,&quot; 分隔，并用引号包裹值）</span>
  <span class="token key atrule">color</span><span class="token punctuation">:</span> <span class="token string">&quot;0,0,0&quot;</span>
  <span class="token comment"># 线条的透明度</span>
  <span class="token key atrule">opacity</span><span class="token punctuation">:</span> <span class="token number">0.6</span>
  <span class="token comment"># 线条数目</span>
  <span class="token key atrule">count</span><span class="token punctuation">:</span> <span class="token number">99</span>
  <span class="token comment"># 效果的层级</span>
  <span class="token key atrule">zIndex</span><span class="token punctuation">:</span> <span class="token number">-1</span>
</code></pre></div><p>效果如下：</p> <p><img src="https://raw.githubusercontent.com/liuyib/picBed/master/hexo-theme-stun/doc/20190725220344.png" alt="Stun | canvas_nest demo"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/liuyib/hexo-theme-stun/edit/master/docs/zh-CN/advanced/third-part.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2020/7/11 下午1:15:42</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hexo-theme-stun/zh-CN/advanced/advanced.html" class="prev">
        新手进阶
      </a></span> <span class="next"><a href="/hexo-theme-stun/zh-CN/advanced/assist.html">
        辅助功能
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/hexo-theme-stun/assets/js/app.85a0555e.js" defer></script><script src="/hexo-theme-stun/assets/js/2.327db69f.js" defer></script><script src="/hexo-theme-stun/assets/js/19.ad809ef8.js" defer></script><script src="/hexo-theme-stun/assets/js/3.c46f99ba.js" defer></script>
  </body>
</html>
